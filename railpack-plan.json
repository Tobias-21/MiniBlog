{
  "packages": {
    "php": "8.2",
    "node": "22"
  },
  "extensions": [
    "ctype",
    "curl",
    "dom",
    "fileinfo",
    "filter",
    "hash",
    "mbstring",
    "openssl",
    "pcre",
    "pdo",
    "session",
    "tokenizer",
    "xml",
    "bcmath"
  ],
  "steps": {
    "install:composer": [
      "composer install --optimize-autoloader --no-scripts --no-interaction"
    ],
    "install:node": [
      "mkdir -p /app/node_modules/.cache",
      "npm ci"
    ],
    "prune:node": [
      "npm prune --omit=dev --ignore-scripts"
    ],
    "build": [
      "npm run build",
      "mkdir -p storage/framework/{sessions,views,cache,testing} storage/logs bootstrap/cache && chmod -R a+rw storage",
      "php artisan config:cache",
      "php artisan event:cache",
      "php artisan route:cache",
      "php artisan view:cache"
    ]
  }
}
